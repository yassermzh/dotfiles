alias d='dirs -v'
for index ({1..9}) alias "$index"="cd +${index}"; unset index

alias lf=lfrun
alias open=xdg-open

#alias vpn="sshuttle -v --dns -r root@falkenstein 0/0"
alias proxy-whole-network="sshuttle -v --dns -x 128.140.122.35 -r yas@panel.alacolang.ir 0/0" 
alias proxy-socks="ssh -D8080 -fCqN yas@panel.alacolang.ir"
alias hotspot="sudo create_ap wlp0s20f3 enp7s0 myhot 24681357"
alias tamam="systemctl suspend"
alias lock="i3lock"

alias services-running="systemctl --type service --state running"
alias set-dns="resolvectl dns wlp0s20f3 8.8.8.8"
# show dns info: resolvectl dns"

function k() {
  # Kill any existing kanata processes and log monitors
  sudo pkill -f "kanata.*kanata-linux.kbd" 2>/dev/null
  pkill -f "kanata-layer-from-log.sh.*monitor" 2>/dev/null

  # Create log directory if it doesn't exist
  mkdir -p ~/.config/cache

  # Start kanata with logging
  echo "Starting kanata with logging to ~/.config/cache/kanata.log..."
  sudo ~/.cargo/bin/kanata -c ~/dotfiles/kmonad/kanata-linux.kbd 2>&1 | tee ~/.config/cache/kanata.log &

  # Start the layer monitor in background
  ~/dotfiles/waybar/scripts/kanata-layer-from-log.sh monitor &

  sleep 5
  setxkbmap -layout us,ir -option grp:alt_shift_toggle
  echo "Kanata started with layer monitoring"
}

function reset-kb() {
  # try this when keyboard is not working
  sudo pkill -f kmonad
  sudo modprobe -r atkbd && sudo modprobe atkbd
  sudo udevadm trigger
}

function dark() {
  ln -fs ~/.config/alacritty/themes/themes/rose_pine_moon.toml ~/.config/alacritty/themes/themes/_active.toml
  touch ~/.config/alacritty/alacritty.toml
}

function light() {
  ln -fs ~/.config/alacritty/themes/themes/rose_pine_dawn.toml ~/.config/alacritty/themes/themes/_active.toml
  touch ~/.config/alacritty/alacritty.toml
}

alias plist="lsof -i -l -nP | grep LISTEN"


#alias pbcopy='xsel --clipboard --input'
#alias pbpaste='xsel --clipboard --output'
pbcopy='wl-copy'
pbpaste='wl-paste'

alias f=fzf
alias ff="fzf | tee >(wl-copy)"


alias ls="exa -al --icons --group-directories-first"

alias ls="eza --icons --group-directories-first"
alias ll="eza -lh --icons --group-directories-first"
alias la="eza -a --icons --group-directories-first"
alias lt="eza -T --icons --group-directories-first"

